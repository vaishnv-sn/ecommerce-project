
<script>

    

    function signupValidate(){

        let name = document.getElementById('fname');
        let email = document.getElementById('email');
        let phone = document.getElementById('number');
        let password = document.getElementById('password');
        let confirmPassword = document.getElementById('confirmPassword');
        let nameErr = document.getElementById('fname-error');
        let emailErr = document.getElementById('email-error');
        let phoneErr = document.getElementById('number-error');
        let passwordErr = document.getElementById('password-error');
        let confirmPasswordErr = document.getElementById('confirmPassword-error');

        if(name.value.trim() == "" | name.value.length < 3){
            name.style.border = "solid 2px red";
            nameErr.innerHTML = "Name can't be empty, It should be atleast 3 letters";
            return false;

        }else if(email.value == ""){
            email.style.border = "solid 2px red";
            emailErr.innerHTML = "Email can't be empty, Enter a valid email";
            return false;

        }else if(phone.value.length != 10){
            phone.style.border = "solid 2px red";
            phoneErr.innerHTML = "Mobile number should be a valid 10 digit number";
            return false;

        }else if(password.value.trim() == ""){
            password.style.border = "solid 2px red";
            passwordErr.innerHTML = "Password can't be empty, It should be atleast 3 letter long!";
            return false;

        }else if(confirmPassword.value != password.value){
            confirmPassword.style.border = "solid 2px red";
            confirmPasswordErr.innerHTML = "Enter the same password as above.";
            return false;
            
        }else{
            return true;
        }
    }

</script>

<div class="container mt-5">
    <form action="/signup" method="post" id="signupForm" onsubmit="return signupValidate()">
        <div class="form-group">
            <label>Name</label>
            <input type="text" class="form-control" id="fname" name="fname" required/>
            <span class="text-danger" id="fname-error"> </span>
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="email" class="form-control" id="email" name="email" required/>
            <span class="text-danger" id="email-error"> </span>

        </div>
        
        <div class="form-group">
            <label>Mobile Number</label>
            <input type="number" class="form-control" id="number" name="number" required/>
            <span class="text-danger" id="number-error"> </span>
        </div>
        {{#if emailErr}}
        <p class="text-danger">{{emailErr}}</p>
        {{/if}}
        <div class="form-group">
            <label>Referral Code <small>(optional)</small></label>
            <input type="text" class="form-control" id="referral" name="referral"/>
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" id="password" name="password" required/>
            <span class="text-danger" id="password-error"> </span>
        </div>
        <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" class="form-control" id="confirmPassword" required />
            <span class="text-danger" id="confirmPassword-error"> </span>
        </div>
        <button type="submit" class="btn btn-warning btn-lg my-2">Signup</button>

    </form>
    <a href="/login">Already have an account? Login here.</a>
</div>



<script>

    function fnameCheck() {
        let fname = document.getElementById("fname").value;
        filter = /^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/;
        if (filter.test(fname)) {
            document.getElementById("fname").style.border = "2px solid green";
            return true;
        } else {
            document.getElementById("fname").style.border = "2px solid red";
            return false;
        }
    }

    function emailCheck() {
        let email = document.getElementById('email').value;
        filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        if (filter.test(email)) {
            document.getElementById("email").style.border = "2px solid green";
            return true;
        } else {
            document.getElementById("email").style.border = "2px solid red";
            return false;
        }
    }

    function phoneCheck(){
        let phone = document.getElementById('number');
        if(phone.length = 10){
            document.getElementById("number").style.border = "2px solid green";
            return true;
        } else {
            document.getElementById("number").style.border = "2px solid red";
            return false;
        }
    }


</script>
